# 深度搜索工作流指南 - 新手友好版

## 👋 写在前面
这是一个简单易用的深度搜索模板，可以帮助您验证任何问题或说法的真实性。不需要编程经验，按照下面的步骤操作即可！

## 🎯 这个模板能做什么？
- 帮您判断网上看到的说法是否属实
- 搜索特定话题的详细信息
- 给出有理有据的分析结论
- 自动整理搜索结果

## 📝 效果展示
输入：苹果公司是世界上第一个市值突破3万亿美元的公司
输出：
```
一、分解声明
分析"苹果公司是世界上第一个市值突破3万亿美元的公司"这一说法

二、文献核对信息
检索到了3个来源...
1. 财经网站报道：苹果公司确实在2022年1月首次突破3万亿美元市值
2. 华尔街日报确认：苹果是首个达到这一里程碑的公司
3. 市值记录数据库显示：在苹果之前没有其他公司达到过这一市值

三、初步总结
根据多个可靠来源的信息，这一说法是正确的。

四、反思
这个结论得到了多个权威财经媒体的支持，信息可靠度高。
```

## 🚀 快速开始

### 第一步：创建工作流
1. 点击左上角"新建工作流"按钮
2. 在弹出的模板列表中，输入"深度搜索"
3. 找到并点击"深度搜索模板"
4. 点击"使用此模板"创建工作流
5. 为您的工作流输入一个名称（例如：事实核查）

### 第二步：了解并配置节点
让我们一步步设置每个节点：

#### 1. 📝 开始节点
配置输入变量：
1. 点击"开始"节点
2. 在输入部分，您会看到两个预设变量：
   - `BOT_USER_INPUT`：用户输入的问题（必填）
   - `Question`：问题标题（选填）

#### 2. 🔍 生成搜索query节点
配置和连接：
1. 点击"生成搜索query"节点
2. 连接方式：
   - 将开始节点的 `BOT_USER_INPUT` 连接到此节点的 `input` 输入端
3. 节点设置：
   - 模型：选择"豆包·工具调用"
   - 系统提示词：保持默认即可

#### 3. 📚 搜索材料节点
配置和连接：
1. 点击"搜索材料"节点
2. 连接方式：
   - 将"生成搜索query"节点的输出连接到此节点的 `input_query` 输入端
3. 参数设置：
   - `count`：设置为 3-5（建议值）
   - `cursor`：默认为 0
   - `search_id`：可留空，系统自动生成

#### 4. 📊 分析和总结节点
配置和连接：
1. 点击"分析和总结"节点
2. 连接方式：
   - 将"搜索材料"节点的 `outputList` 连接到此节点的输入端
3. 输出设置：
   - `markdown_str`：分析结果
   - `message_count`：处理的消息数量

## 📊 变量连接图解
```
[开始节点]
BOT_USER_INPUT ────┐
                  ↓
[生成搜索query节点]
input → output ────┐
                  ↓
[搜索材料节点]
input_query → outputList ────┐
                            ↓
[分析和总结节点]
input → markdown_str, message_count
```

## 🔄 变量传递说明

### 1. 基础变量类型
- 文本型(str)：直接传递，无需特殊处理
- 数字型(int)：直接传递，无需特殊处理
- 布尔型(boolean)：直接传递，无需特殊处理

### 2. 复杂变量处理
1. 搜索结果列表(outputList)：
```json
{
    "data": {
        "doc_results": [
            {
                "title": "文章标题",
                "summary": "内容摘要",
                "url": "来源链接"
            }
        ]
    }
}
```
使用方法：
- 访问标题：`{{outputList.data.doc_results[0].title}}`
- 访问摘要：`{{outputList.data.doc_results[0].summary}}`

### 3. 变量连接检查清单
✅ 检查以下内容确保变量正确连接：
1. 连接线是否显示蓝色（表示连接成功）
2. 变量类型是否匹配
3. 必填变量是否都已连接
4. 变量名称是否正确

### 4. 常见变量错误处理
1. 变量未定义：
   - 检查上游节点是否已正确输出
   - 确认变量名称拼写正确
   
2. 类型不匹配：
   - 检查变量类型是否一致
   - 必要时添加类型转换节点

3. 数组索引错误：
   - 确保数组不为空
   - 检查索引范围是否正确

## 💡 调试技巧

### 1. 使用调试模式
1. 点击右上角"调试"按钮
2. 输入测试问题
3. 观察每个节点的：
   - 输入值
   - 处理过程
   - 输出结果

### 2. 常见问题排查
1. 节点未执行：
   - 检查连接线
   - 确认必填参数
   - 查看错误提示

2. 结果不符合预期：
   - 检查变量值
   - 调整节点参数
   - 优化提示词

## 💡 使用技巧

### 1. 输入问题的建议
- 使用清晰、具体的表述
- 每次只问一个问题
- 避免太过宽泛的问题

例如：
✅ 好的问题：
- "特斯拉Model 3在2023年的全球销量是多少？"
- "中国是否是世界上人口最多的国家？"

❌ 不太好的问题：
- "特斯拉怎么样？"（太宽泛）
- "说说中国的人口情况"（不够具体）

### 2. 如何提高搜索准确度
1. 选择合适的信息源：
   - 新闻类问题：选择新闻插件
   - 学术类问题：选择学术搜索插件
   - 常识类问题：使用通用搜索

2. 调整搜索范围：
   - 时间范围：最近一年/一月/一周
   - 语言：中文/英文/多语言
   - 来源：全部/可信来源

## ⚙️ 自定义设置

### 1. 修改搜索来源
1. 点击"搜索材料"节点
2. 在"插件选择"中更换数据源
3. 可选择：
   - 通用搜索
   - 新闻搜索
   - 学术文献
   - 专业数据库

### 2. 调整输出格式
1. 点击"分析和总结"节点
2. 修改输出模板：
   - 简洁版：只显示结论
   - 标准版：包含分析过程
   - 详细版：包含所有参考来源

## ❓ 常见问题

### 1. 搜索结果不够准确？
- 尝试使用更具体的关键词
- 检查是否选择了合适的信息源
- 适当缩小搜索时间范围

### 2. 结论不够清晰？
- 确保问题表述明确
- 增加搜索结果数量
- 调整分析模型的提示词

### 3. 处理太慢？
- 减少搜索结果数量
- 使用简洁版输出格式
- 避免过于复杂的问题

## 📞 获取帮助
- 查看更多示例：[示例库链接]
- 加入用户社群：[社群链接]
- 联系客服：[客服链接]

## 🔄 版本信息
当前版本：2.0.0
更新日期：2024-03-25
主要更新：优化新手用户体验，添加更多使用示例 